# 提示词工程


## 2.1 提示词的分类方法

我们可以将提示词理解为“你对 AI 的指令方式”，不同的提示结构与策略，直接影响 AI 的理解路径、输出内容与生成风格。类比人与不同性格的人交谈，沟通方式必须因人而异。

---

### 2.1.1 角色扮演法（Role Play）

> 给 AI 设置一个身份，它会自动带入那个角色来回答

- **示例**：你是资深 HR，请帮我起草一份结构化的面试反馈。

- **适用场景**：
  - 专业性较强的表达输出（如：专家建议、医生诊断、学术评价）
  - 多角色对话系统设计（如 AI 导师、虚拟助手）
  - 企业 Agent 中的“专家模式”配置

---

### 2.1.2 细节法（Detailing）

> 提供越多上下文细节，AI 输出越贴合你的意图

- **示例**：请为一位即将30岁生日的女性朋友写一段生日祝福，要求语言温柔、轻松，适合发朋友圈，结尾最好能押韵。

- **适用场景**：
  - 个性化内容生成（贺卡、信件、社交文案）
  - 语境、语气风格控制（如幽默、专业、活泼）
  - 精准输出内容与输入语境的一致性

---

### 2.1.3 示例法（Few-shot Prompting）

> 给 AI 几个“样本”，它会学着模仿 💡

- **核心机制**：利用大模型的上下文学习能力，让它根据样例“推测”用户意图。

- **示例**：

```plaintext
输入1：请推荐一本适合创业者的书
输出1：《从0到1》，作者彼得·蒂尔...

输入2：请推荐一本适合产品经理的书
输出2：《启示录：打造用户喜爱的产品》，作者：Marty Cagan。本书深入讲解了产...

以下是你上传图片中内容的 Markdown 格式转写，内容覆盖了提示词工程方法的后三种策略：

````

### 2.1.4 推理法（Chain-of-Thought）

> 引导 AI “思考过程”，提高逻辑准确性 🧠

引导模型逐步拆解问题、展示推理过程，帮助其提升逻辑准确性与严谨性。

- **核心机制**：强化 LLM 的“中间思考链条”，而非直接跳到答案。

**示例：**

```text
请判断以下行为是否正当防卫，并给出理由：

1. 某员工发现某产品因质量不合格的情况下仍上线销售…

2. 某客户因为售后服务问题在门店吵闹…

结论：请按照 1）法律条款 ➝ 2）具体行为 ➝ 3）结论 的顺序逐条分析。
````

**适用场景：**

* 法律分析、金融推理、数据逻辑判断
* 考试题目解析（如 GRE、法考、数学建模）
* 复杂规则理解与合规判断任务

---

### 2.1.5 格式法（Output Formatting）

> 要求输出特定格式（如 JSON、表格、PPT结构等）

要求模型输出结构化结果，如 JSON、Markdown 表格、PPT结构、代码块等。

* **核心机制**：提前明确预期格式，使模型控制内容结构与标签。

**示例：**

```text
请以表格形式输出以下三种电动车产品的对比，字段包括：品牌、价格、续航里程、适合人群。
```

**适用场景：**

* 接口对接（RPA、API、自动表单）
* 数据提取、清洗与生成（如 JSON 结构生成）
* 跨系统调用、Agent间格式传递

---

### 2.1.6 迭代法（Refinement）

> 先来个版本，然后一步步改

先生成初稿，再以“修改建议”或“指定优化点”的形式逐轮调整输出，直到符合期望。

* **核心机制**：类似人类逐步调整过程，AI 可在上下文中“理解上一次反馈”。

**示例：**

```plaintext
第一轮：请生成一段关于人工应用前景的简要说明。

第二轮：将语气调整为更正式，去掉重复表达。

第三轮：请压缩至不超过120字，保留核心观点。
```

**适用场景：**

* 高质量内容打磨（如论文摘要、商业文案）
* 用户驱动的“微调式创作”
* 企业审核流程中的内容规范优化

## 2.2 结构化提示词方法论

结构化提示词是将提示词以“标准模块”形式拆解，使其更具通用性、复用性和可控性，适合用于高精度场景（如企业 Agent、自动化流程等）。

---

### 2.2.1 结构化提示词拆解模型

| 模块         | 说明 |
|--------------|------|
| **角色（Role）** | 指定 AI 的身份或语气风格，如「你是一名审计专家」。因为大语言模型的工作方式可以视为条件概率计算。当我们给出一个明确的角色，这就相当于为 LLM 指定了一个上下文框架。 |
| **背景（Context）** | 说明场景背景，让 AI 知道你要干什么，如「我们正在整理年终资料中材料」 |
| **简介（Task）** | 用一句话描述任务目标，「请你根据以下报表内容提炼出三点风险提醒」 |
| **注意（Rules）** | 限制或筛选子，如「不要出现口语词，请使用官方术语，不要的说人话」 |
| **工作流（Steps）** | 明确步骤顺序：「请先阅读数据→再找出问题→最后总结建议」 |
| **输出格式（Format）** | 指定输出格式：「请以 Markdown 表格输出，字段包含…」 |
| **初始化（Examples）** | 统一语义 & 定义模型初始化行为 |

---

### 2.2.2 如何写好结构化提示词

**Prompt 基础方法图：**

```text
策略：
├── 角色：给出模型身份和语气角色，不要让它猜测你是谁
├── 背景：赋予 GPT 提问一个完整角色或完整语境
├── 拆分：将复杂任务拆分成较简单的子任务
├── 输出：您可以要求模型具体指定格式的输出
├── 思维方式：指定输出内容结构化或论证路径一致性逻辑
├── 示例：举例说明

方法：
├── 分段符：使用分隔符清楚标明输入内容的不同部分
├── 参考文档：指引模型引用参考文本作者
├── 参考文案：指引模型引用参考文案语境
├── 总结模式：对于需要冗长对话的读后提问，总结式是稳妥之选
├── 标注：对文档进行标签标识，提升准确性
├── 验证：询问模型在之前输出后再审查是否通顺

外部工具：
- GPT 入门指南中的实践课程内容，以及 OpenAI Cookbook 中的多参数调用示例。

评估程序：
- OpenAI Evals 是一个开源评估框架，提供创建自定义 evals 的工具。


以下是你提供内容的 Markdown 标准格式转写，适用于提示词模块标准定义部分：

```markdown
### 结构化提示词标准字段定义（Markdown格式）

```
**结构化提示词模版**

\#Role — 角色
定义要模拟的角色或任务，告诉大模型应该扮演什么样的角色。

\##Profile — 简介
提供关于提示词作者、版本、语言等基础信息。这有助于其他人了解提示词的来源、版本更新等信息。

\##Background — 背景
对角色或任务进行详细描述，帮助大模型了解他们即将扮演的角色的背景知识。

\##Goals — 目标
列出此任务的主要目标或希望达到的效果。

\##Constrains — 约束条件
指明执行任务时需要遵守的规则或约束。

\##Definition — 概念定义
详细描述任务中涉及到的特定概念或名词，确保概念对齐。

\##Tone — 语气风格
描述完成任务时应采取的语言风格或情感基调，例如“正式”、“随意”、“幽默”等。

\##Skills — 技能
列出执行此任务所需的技能或知识。

\##Examples — 示例
提供完成任务的实际示例或模板，有助于理解任务的要求和预期结果。通过具体示例，大模型可以更加直观地理解任务的要求。

\##Workflows — 工作流程
描述完成任务的具体步骤或流程。

\##OutputFormat — 输出格式
描述任务的预期输出格式，例如文本、图表、列表等。确保大模型知道如何格式化他们的答案，使输出结果满足特定的要求或标准。

\##Initialization — 初始化
提供开始任务时的开场白或初始状态。

