# 对话流

## 概念与理解

> 引导用户去做一件事情，以对话形式的工作流。

面向对话类情景的工作流编排模式，用于构建需要多轮对话交互的应用，如客户服务、语义搜索等。它就像是一个精心设计的对话流程框架，从用户输入问题开始，到生成回答，再到用户对回答进行追问或修改要求等多轮交互，都有明确的流程和节点来处理。

## 案例：低代码咨询

### 低代码咨询需求

1. 根据用户询问的问题进行分支
2. 用户询问低代码选型或者前景等问题，根据白皮书知识库（CodeWave介绍资料）进行回答
3. 用户询问CodeWave平台使用问题。根据官网文档知识库进行回答
4. 若问其他问题则引导用户提问上面两类问题

### 使用到的组件节点
1. 开始
2. 问题分类器
    提示词
    - 用户询低代码是什么，低代码的发展以及低代码与其他的区别对比等问题
    - 用户询问低代码平台或CodeWave中东西的使用问题
    - 其他问题 
3. 知识检索
4. LLM
    提示词
    - 分支1
    ```txt
        请严格基于当前知识库中{{#context#}}低代码官网白皮书文档内容分析用户问题，确保：  
        1. **内容锚定**：所有回答必须源自知识库内的官方文档原文或逻辑推导，不添加外部知识或主观臆测  
        2. **结构清晰**：  
            - 优先采用「问题拆解→文档依据→结论」的三段式框架  
            - 涉及操作步骤时使用有序列表（如①②③）  
            - 关键概念/术语首次出现时标注文档章节（例：见《开发指南》3.2节）  
        3. **冲突处理**：若文档存在多版本解释，以最新更新时间的内容为准  
        4. **未知应答**：若问题超出知识库范围，需明确回复："该问题涉及的信息未在现有文档中找到，请检查问题描述或提供更多上下文"  

        请使用简洁专业的技术语言，避免口语化表达，必要时可引用文档原文段落（需标注具体位置）  
    ```
    - 分支2
    ```txt
        请严格基于当前知识库中{{#context#}}低代码官网文档内容分析用户问题，确保：  
        1. **内容锚定**：所有回答必须源自知识库内的官方文档原文或逻辑推导，不添加外部知识或主观臆测  
        2. **结构清晰**：  
        - 优先采用「问题拆解→文档依据→结论」的三段式框架  
        - 涉及操作步骤时使用有序列表（如①②③）  
        - 关键概念/术语首次出现时标注文档章节（例：见《开发指南》3.2节）  
        3. **冲突处理**：若文档存在多版本解释，以最新更新时间的内容为准  
        4. **未知应答**：若问题超出知识库范围，需明确回复："该问题涉及的信息未在现有文档中找到，请检查问题描述或提供更多上下文"  

        请使用简洁专业的技术语言，避免口语化表达，必要时可引用文档原文段落（需标注具体位置）  
    ```
5. 直接回复

### 对话流图例

![image](https://github.com/user-attachments/assets/5458614c-283c-4f1f-b1ee-4918da0c15bd)

## 测试用例

测试用例1

输入：低代码与零代码的区别

回答

![image](assert/image2.png)

测试用例2

用户输入：AI对低代码有什么影响

回答

![image](assert/image3.png)

测试用例3

用户输入：数据表格如何做分页

回答

![image](assert/image4.png)

用户输入：你会做饭吗？

回答：

![image](assert/image5.png)